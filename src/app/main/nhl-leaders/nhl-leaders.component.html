<div class="spinner" *ngIf="isLoading">
    <mat-spinner color="accent"></mat-spinner>
</div>

<div class="container" *ngIf="!isLoading">

    <div class="details">
        <p class="link" (click)="sendToFullPlayers()">See Skater Details ></p>
    </div>

    <mat-accordion multi="false" >

        <mat-expansion-panel expanded="{{isMobile ? 'false' : 'true'}}">
            
            <mat-expansion-panel-header>
                <mat-panel-title>NHL Point Leaders</mat-panel-title>
            </mat-expansion-panel-header>

            <div class="table">

                <table mat-table [dataSource]="points" class="full-width">

                    <ng-container matColumnDef="playerName">
                        <th mat-header-cell *matHeaderCellDef> Name </th>
                        <td mat-cell *matCellDef="let player"> {{ player.playerName }} </td>
                    </ng-container>

                    <ng-container matColumnDef="points">
                        <th mat-header-cell *matHeaderCellDef> Points </th>
                        <td mat-cell *matCellDef="let player"> {{ player.points }} </td>
                    </ng-container>

                    <ng-container matColumnDef="team_logo">
                        <th mat-header-cell *matHeaderCellDef>CHA Team</th>
                        <td mat-cell *matCellDef="let player"> 
                            <img src="{{ findLogo(player.chaTeam).image }}"> 
                        </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="pointsColumnsToDisplay"></tr>
                    <tr mat-row *matRowDef="let team; columns: pointsColumnsToDisplay;"></tr>

                </table>

            </div>
        
        </mat-expansion-panel>

        <mat-expansion-panel expanded="false">
            
            <mat-expansion-panel-header>
                <mat-panel-title>NHL Goal Leaders</mat-panel-title>
            </mat-expansion-panel-header>

            <div class="table">

                <table mat-table [dataSource]="goals" class="full-width">

                    <ng-container matColumnDef="playerName">
                        <th mat-header-cell *matHeaderCellDef> Name </th>
                        <td mat-cell *matCellDef="let player"> {{ player.playerName }} </td>
                    </ng-container>

                    <ng-container matColumnDef="goals">
                        <th mat-header-cell *matHeaderCellDef> Goals </th>
                        <td mat-cell *matCellDef="let player"> {{ player.goals }} </td>
                    </ng-container>

                    <ng-container matColumnDef="team_logo">
                        <th mat-header-cell *matHeaderCellDef>CHA Team</th>
                        <td mat-cell *matCellDef="let player"> 
                            <img src="{{ findLogo(player.chaTeam).image }}"> 
                        </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="goalsColumnsToDisplay"></tr>
                    <tr mat-row *matRowDef="let team; columns: goalsColumnsToDisplay;"></tr>

                </table>

            </div>
        
        </mat-expansion-panel>

        <mat-expansion-panel expanded="false">
            
            <mat-expansion-panel-header>
                <mat-panel-title>NHL Assists Leaders</mat-panel-title>
            </mat-expansion-panel-header>

            <div class="table">

                <table mat-table [dataSource]="assists" class="full-width">

                    <ng-container matColumnDef="playerName">
                        <th mat-header-cell *matHeaderCellDef> Name </th>
                        <td mat-cell *matCellDef="let player"> {{ player.playerName }} </td>
                    </ng-container>

                    <ng-container matColumnDef="assists">
                        <th mat-header-cell *matHeaderCellDef> Assists </th>
                        <td mat-cell *matCellDef="let player"> {{ player.assists }} </td>
                    </ng-container>

                    <ng-container matColumnDef="team_logo">
                        <th mat-header-cell *matHeaderCellDef>CHA Team</th>
                        <td mat-cell *matCellDef="let player"> 
                            <img src="{{ findLogo(player.chaTeam).image }}"> 
                        </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="assistsColumnsToDisplay"></tr>
                    <tr mat-row *matRowDef="let team; columns: assistsColumnsToDisplay;"></tr>

                </table>

            </div>
        
        </mat-expansion-panel>

        <mat-expansion-panel expanded="false">
            
            <mat-expansion-panel-header>
                <mat-panel-title>NHL SH Points Leaders</mat-panel-title>
            </mat-expansion-panel-header>

            <div class="table">

                <table mat-table [dataSource]="shPoints" class="full-width">

                    <ng-container matColumnDef="playerName">
                        <th mat-header-cell *matHeaderCellDef> Name </th>
                        <td mat-cell *matCellDef="let player"> {{ player.playerName }} </td>
                    </ng-container>

                    <ng-container matColumnDef="shPoints">
                        <th mat-header-cell *matHeaderCellDef> SH Points </th>
                        <td mat-cell *matCellDef="let player"> {{ player.shPoints }} </td>
                    </ng-container>

                    <ng-container matColumnDef="team_logo">
                        <th mat-header-cell *matHeaderCellDef>CHA Team</th>
                        <td mat-cell *matCellDef="let player"> 
                            <img src="{{ findLogo(player.chaTeam).image }}"> 
                        </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="shPointsColumnsToDisplay"></tr>
                    <tr mat-row *matRowDef="let team; columns: shPointsColumnsToDisplay;"></tr>

                </table>

            </div>
        
        </mat-expansion-panel>

    </mat-accordion>

    <div class="details">
        <p class="link" (click)="sendToFullGoalies()">See Goalie Details ></p>
    </div>

    <mat-accordion multi="false" >

        <mat-expansion-panel expanded="{{isMobile ? 'false' : 'true'}}">
            
            <mat-expansion-panel-header>
                <mat-panel-title>NHL Wins Leaders</mat-panel-title>
            </mat-expansion-panel-header>

            <div class="table">

                <table mat-table [dataSource]="wins" class="full-width">

                    <ng-container matColumnDef="playerName">
                        <th mat-header-cell *matHeaderCellDef> Name </th>
                        <td mat-cell *matCellDef="let goalie"> {{ goalie.playerName }} </td>
                    </ng-container>

                    <ng-container matColumnDef="wins">
                        <th mat-header-cell *matHeaderCellDef> Wins </th>
                        <td mat-cell *matCellDef="let goalie"> {{ goalie.wins }} </td>
                    </ng-container>

                    <ng-container matColumnDef="team_logo">
                        <th mat-header-cell *matHeaderCellDef>CHA Team</th>
                        <td mat-cell *matCellDef="let goalie"> 
                            <img src="{{ findLogo(goalie.chaTeam).image }}"> 
                        </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="winsColumnsToDisplay"></tr>
                    <tr mat-row *matRowDef="let team; columns: winsColumnsToDisplay;"></tr>

                </table>

            </div>
        
        </mat-expansion-panel>

        <mat-expansion-panel expanded="false">
            
            <mat-expansion-panel-header>
                <mat-panel-title>NHL GAA Leaders</mat-panel-title>
            </mat-expansion-panel-header>

            <div class="table">

                <table mat-table [dataSource]="gaa" class="full-width">

                    <ng-container matColumnDef="playerName">
                        <th mat-header-cell *matHeaderCellDef> Name </th>
                        <td mat-cell *matCellDef="let goalie"> {{ goalie.playerName }} </td>
                    </ng-container>

                    <ng-container matColumnDef="goalsAgainstAverage">
                        <th mat-header-cell *matHeaderCellDef> GAA </th>
                        <td mat-cell *matCellDef="let goalie"> {{ goalie.goalsAgainstAverage.toFixed(2) }} </td>
                    </ng-container>

                    <ng-container matColumnDef="team_logo">
                        <th mat-header-cell *matHeaderCellDef>CHA Team</th>
                        <td mat-cell *matCellDef="let goalie"> 
                            <img src="{{ findLogo(goalie.chaTeam).image }}"> 
                        </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="gaaColumnsToDisplay"></tr>
                    <tr mat-row *matRowDef="let team; columns: gaaColumnsToDisplay;"></tr>

                </table>

            </div>
        
        </mat-expansion-panel>

        <mat-expansion-panel expanded="false">
            
            <mat-expansion-panel-header>
                <mat-panel-title>NHL Save% Leaders</mat-panel-title>
            </mat-expansion-panel-header>

            <div class="table">

                <table mat-table [dataSource]="savePctg" class="full-width">

                    <ng-container matColumnDef="playerName">
                        <th mat-header-cell *matHeaderCellDef> Name </th>
                        <td mat-cell *matCellDef="let goalie"> {{ goalie.playerName }} </td>
                    </ng-container>

                    <ng-container matColumnDef="savePctg">
                        <th mat-header-cell *matHeaderCellDef> Save% </th>
                        <td mat-cell *matCellDef="let goalie"> {{ goalie.savePctg.toFixed(3) }}% </td>
                    </ng-container>

                    <ng-container matColumnDef="team_logo">
                        <th mat-header-cell *matHeaderCellDef>CHA Team</th>
                        <td mat-cell *matCellDef="let goalie"> 
                            <img src="{{ findLogo(goalie.chaTeam).image }}"> 
                        </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="savePctgColumnsToDisplay"></tr>
                    <tr mat-row *matRowDef="let team; columns: savePctgColumnsToDisplay;"></tr>

                </table>

            </div>
        
        </mat-expansion-panel>

        <mat-expansion-panel expanded="false">
            
            <mat-expansion-panel-header>
                <mat-panel-title>NHL SO Leaders</mat-panel-title>
            </mat-expansion-panel-header>

            <div class="table">

                <table mat-table [dataSource]="shutouts" class="full-width">

                    <ng-container matColumnDef="playerName">
                        <th mat-header-cell *matHeaderCellDef> Name </th>
                        <td mat-cell *matCellDef="let goalie"> {{ goalie.playerName }} </td>
                    </ng-container>

                    <ng-container matColumnDef="shutouts">
                        <th mat-header-cell *matHeaderCellDef> Shutouts </th>
                        <td mat-cell *matCellDef="let goalie"> {{ goalie.shutouts }} </td>
                    </ng-container>

                    <ng-container matColumnDef="team_logo">
                        <th mat-header-cell *matHeaderCellDef>CHA Team</th>
                        <td mat-cell *matCellDef="let goalie"> 
                            <img src="{{ findLogo(goalie.chaTeam).image }}"> 
                        </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="shutoutsColumnsToDisplay"></tr>
                    <tr mat-row *matRowDef="let team; columns: shutoutsColumnsToDisplay;"></tr>

                </table>

            </div>
        
        </mat-expansion-panel>

    </mat-accordion>
</div>

