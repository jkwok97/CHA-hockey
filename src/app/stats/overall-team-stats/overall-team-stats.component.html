<div class="spinner" *ngIf="isLoading">
    <mat-spinner color="accent"></mat-spinner>
</div>

<div class="teamsStatsTable cha-dark" *ngIf="!isLoading">

    <mat-tab-group color="accent" (selectedTabChange)="onTabChange($event)">
        <mat-tab label="League">
            <div class="table">

                <table mat-table [dataSource]="teams" matSort class="mat-elevation-z8 full-width" matSortActive="points" matSortDirection="desc">

                    <ng-container matColumnDef="team_logo">
                        <th mat-header-cell *matHeaderCellDef> </th>
                        <td mat-cell *matCellDef="let team"> 
                            <img src="{{ findLogo(team.team_name).image }}"> 
                        </td>
                    </ng-container>
        
                    <ng-container matColumnDef="team_name">
                        <th mat-header-cell *matHeaderCellDef> Team </th>
                        <td mat-cell *matCellDef="let team"> {{findLogo(team.team_name).name}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="games_played">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> GP </th>
                        <td mat-cell *matCellDef="let team"> {{team.games_played}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="wins">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> W </th>
                        <td mat-cell *matCellDef="let team"> {{team.wins}} </td>
                    </ng-container>
                    
                    <ng-container matColumnDef="loss">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> L </th>
                        <td mat-cell *matCellDef="let team"> {{team.loss}} </td>
                    </ng-container>
                    
                    <ng-container matColumnDef="ties">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> T </th>
                        <td mat-cell *matCellDef="let team"> {{team.ties}} </td>
                    </ng-container>
                    
                    <ng-container matColumnDef="points">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Pts </th>
                        <td mat-cell *matCellDef="let team"> {{team.points}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_for">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> GF </th>
                        <td mat-cell *matCellDef="let team"> {{team.goals_for}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_for_game">
                        <th mat-header-cell *matHeaderCellDef> GF/g </th>
                        <td mat-cell *matCellDef="let team"> {{ (team.goals_for / team.games_played).toFixed(2) }} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_against">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> GA </th>
                        <td mat-cell *matCellDef="let team"> {{team.goals_against}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_against_game">
                        <th mat-header-cell *matHeaderCellDef> GA/g </th>
                        <td mat-cell *matCellDef="let team"> {{ (team.goals_against / team.games_played).toFixed(2) }} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_diff">
                        <th mat-header-cell *matHeaderCellDef> Goal Diff </th>
                        <td mat-cell *matCellDef="let team"> {{team.goals_for - team.goals_against}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="win_pct">
                        <th mat-header-cell *matHeaderCellDef> Win % </th>
                        <td mat-cell *matCellDef="let team"> {{((team.wins / team.games_played) * 100).toFixed(1)}} %</td>
                    </ng-container>
        
                    <ng-container matColumnDef="pp_pct">
                        <th mat-header-cell *matHeaderCellDef> PP % </th>
                        <td mat-cell *matCellDef="let team"> {{ ((team.pp_goals / team.pp_attempts) * 100).toFixed(1) }} %</td>
                    </ng-container>
        
                    <ng-container matColumnDef="pk_pct">
                        <th mat-header-cell *matHeaderCellDef> PK % </th>
                        <td mat-cell *matCellDef="let team"> {{ (((team.pk_attempts - team.pk_goals) / team.pk_attempts) * 100).toFixed(1)}} %</td>
                    </ng-container>
        
                    <ng-container matColumnDef="sh_goals">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> SHG </th>
                        <td mat-cell *matCellDef="let team"> {{ team.sh_goals}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="penalty_minutes_game">
                        <th mat-header-cell *matHeaderCellDef> PIM/g </th>
                        <td mat-cell *matCellDef="let team"> {{ (team.penalty_minutes / team.games_played).toFixed(1)}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="shot_diff">
                        <th mat-header-cell *matHeaderCellDef> Shot Diff </th>
                        <td mat-cell *matCellDef="let team"> {{ (team.shots_for - team.shots_against) }} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="div_record">
                        <th mat-header-cell *matHeaderCellDef> Div </th>
                        <td mat-cell *matCellDef="let team"> {{team.div_win}}-{{team.div_loss}}-{{team.div_tie}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="home_record">
                        <th mat-header-cell *matHeaderCellDef> Home </th>
                        <td mat-cell *matCellDef="let team"> {{team.home_wins}}-{{team.home_loss}}-{{team.home_ties}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="away_record">
                        <th mat-header-cell *matHeaderCellDef> Away </th>
                        <td mat-cell *matCellDef="let team"> {{team.road_wins}}-{{team.road_loss}}-{{team.road_ties}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="trail_record">
                        <th mat-header-cell *matHeaderCellDef> Trailing After 2 </th>
                        <td mat-cell *matCellDef="let team"> {{team.trail_after_two_wins}}-{{team.trail_after_two_loss}}-{{team.trail_after_two_ties}} </td>
                    </ng-container>
        
                    <tr mat-header-row *matHeaderRowDef="teamsColumnsToDisplay"></tr>
                    <tr mat-row *matRowDef="let row; columns: teamsColumnsToDisplay;"></tr>
        
                </table>
        
            </div>
        </mat-tab>

        <mat-tab label="Conference"> 
            <div class="table">

                <div class="tableHeader">
                    <p>Western Conference</p>
                </div>

                <table mat-table [dataSource]="westernTeams" matSort class="mat-elevation-z8 full-width" matSortActive="points" matSortDirection="desc">

                    <ng-container matColumnDef="team_logo">
                        <th mat-header-cell *matHeaderCellDef> </th>
                        <td mat-cell *matCellDef="let team"> 
                            <img src="{{ findLogo(team.team_name).image }}"> 
                        </td>
                    </ng-container>
        
                    <ng-container matColumnDef="team_name">
                        <th mat-header-cell *matHeaderCellDef> Team </th>
                        <td mat-cell *matCellDef="let team"> {{findLogo(team.team_name).name}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="games_played">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> GP </th>
                        <td mat-cell *matCellDef="let team"> {{team.games_played}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="wins">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> W </th>
                        <td mat-cell *matCellDef="let team"> {{team.wins}} </td>
                    </ng-container>
                    
                    <ng-container matColumnDef="loss">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> L </th>
                        <td mat-cell *matCellDef="let team"> {{team.loss}} </td>
                    </ng-container>
                    
                    <ng-container matColumnDef="ties">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> T </th>
                        <td mat-cell *matCellDef="let team"> {{team.ties}} </td>
                    </ng-container>
                    
                    <ng-container matColumnDef="points">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Pts </th>
                        <td mat-cell *matCellDef="let team"> {{team.points}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_for">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> GF </th>
                        <td mat-cell *matCellDef="let team"> {{team.goals_for}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_for_game">
                        <th mat-header-cell *matHeaderCellDef> GF/g </th>
                        <td mat-cell *matCellDef="let team"> {{ (team.goals_for / team.games_played).toFixed(2) }} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_against">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> GA </th>
                        <td mat-cell *matCellDef="let team"> {{team.goals_against}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_against_game">
                        <th mat-header-cell *matHeaderCellDef> GA/g </th>
                        <td mat-cell *matCellDef="let team"> {{ (team.goals_against / team.games_played).toFixed(2) }} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_diff">
                        <th mat-header-cell *matHeaderCellDef> Goal Diff </th>
                        <td mat-cell *matCellDef="let team"> {{team.goals_for - team.goals_against}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="win_pct">
                        <th mat-header-cell *matHeaderCellDef> Win % </th>
                        <td mat-cell *matCellDef="let team"> {{((team.wins / team.games_played) * 100).toFixed(1)}} %</td>
                    </ng-container>
        
                    <ng-container matColumnDef="pp_pct">
                        <th mat-header-cell *matHeaderCellDef> PP % </th>
                        <td mat-cell *matCellDef="let team"> {{ ((team.pp_goals / team.pp_attempts) * 100).toFixed(1) }} %</td>
                    </ng-container>
        
                    <ng-container matColumnDef="pk_pct">
                        <th mat-header-cell *matHeaderCellDef> PK % </th>
                        <td mat-cell *matCellDef="let team"> {{ (((team.pk_attempts - team.pk_goals) / team.pk_attempts) * 100).toFixed(1)}} %</td>
                    </ng-container>
        
                    <ng-container matColumnDef="sh_goals">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> SHG </th>
                        <td mat-cell *matCellDef="let team"> {{ team.sh_goals}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="penalty_minutes_game">
                        <th mat-header-cell *matHeaderCellDef> PIM/g </th>
                        <td mat-cell *matCellDef="let team"> {{ (team.penalty_minutes / team.games_played).toFixed(1)}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="shot_diff">
                        <th mat-header-cell *matHeaderCellDef> Shot Diff </th>
                        <td mat-cell *matCellDef="let team"> {{ (team.shots_for - team.shots_against) }} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="div_record">
                        <th mat-header-cell *matHeaderCellDef> Div </th>
                        <td mat-cell *matCellDef="let team"> {{team.div_win}}-{{team.div_loss}}-{{team.div_tie}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="home_record">
                        <th mat-header-cell *matHeaderCellDef> Home </th>
                        <td mat-cell *matCellDef="let team"> {{team.home_wins}}-{{team.home_loss}}-{{team.home_ties}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="away_record">
                        <th mat-header-cell *matHeaderCellDef> Away </th>
                        <td mat-cell *matCellDef="let team"> {{team.road_wins}}-{{team.road_loss}}-{{team.road_ties}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="trail_record">
                        <th mat-header-cell *matHeaderCellDef> Trailing After 2 </th>
                        <td mat-cell *matCellDef="let team"> {{team.trail_after_two_wins}}-{{team.trail_after_two_loss}}-{{team.trail_after_two_ties}} </td>
                    </ng-container>
        
                    <tr mat-header-row *matHeaderRowDef="teamsColumnsToDisplay"></tr>
                    <tr mat-row *matRowDef="let row; columns: teamsColumnsToDisplay;"></tr>
        
                </table>
        
            </div>

            <div class="table">

                <div class="tableHeader">
                    <p>Eastern Conference</p>
                </div>

                <table mat-table [dataSource]="easternTeams" matSort class="mat-elevation-z8 full-width" matSortActive="points" matSortDirection="desc">

                    <ng-container matColumnDef="team_logo">
                        <th mat-header-cell *matHeaderCellDef> </th>
                        <td mat-cell *matCellDef="let team"> 
                            <img src="{{ findLogo(team.team_name).image }}"> 
                        </td>
                    </ng-container>
        
                    <ng-container matColumnDef="team_name">
                        <th mat-header-cell *matHeaderCellDef> Team </th>
                        <td mat-cell *matCellDef="let team"> {{findLogo(team.team_name).name}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="games_played">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> GP </th>
                        <td mat-cell *matCellDef="let team"> {{team.games_played}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="wins">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> W </th>
                        <td mat-cell *matCellDef="let team"> {{team.wins}} </td>
                    </ng-container>
                    
                    <ng-container matColumnDef="loss">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> L </th>
                        <td mat-cell *matCellDef="let team"> {{team.loss}} </td>
                    </ng-container>
                    
                    <ng-container matColumnDef="ties">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> T </th>
                        <td mat-cell *matCellDef="let team"> {{team.ties}} </td>
                    </ng-container>
                    
                    <ng-container matColumnDef="points">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Pts </th>
                        <td mat-cell *matCellDef="let team"> {{team.points}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_for">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> GF </th>
                        <td mat-cell *matCellDef="let team"> {{team.goals_for}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_for_game">
                        <th mat-header-cell *matHeaderCellDef> GF/g </th>
                        <td mat-cell *matCellDef="let team"> {{ (team.goals_for / team.games_played).toFixed(2) }} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_against">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> GA </th>
                        <td mat-cell *matCellDef="let team"> {{team.goals_against}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_against_game">
                        <th mat-header-cell *matHeaderCellDef> GA/g </th>
                        <td mat-cell *matCellDef="let team"> {{ (team.goals_against / team.games_played).toFixed(2) }} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_diff">
                        <th mat-header-cell *matHeaderCellDef> Goal Diff </th>
                        <td mat-cell *matCellDef="let team"> {{team.goals_for - team.goals_against}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="win_pct">
                        <th mat-header-cell *matHeaderCellDef> Win % </th>
                        <td mat-cell *matCellDef="let team"> {{((team.wins / team.games_played) * 100).toFixed(1)}} %</td>
                    </ng-container>
        
                    <ng-container matColumnDef="pp_pct">
                        <th mat-header-cell *matHeaderCellDef> PP % </th>
                        <td mat-cell *matCellDef="let team"> {{ ((team.pp_goals / team.pp_attempts) * 100).toFixed(1) }} %</td>
                    </ng-container>
        
                    <ng-container matColumnDef="pk_pct">
                        <th mat-header-cell *matHeaderCellDef> PK % </th>
                        <td mat-cell *matCellDef="let team"> {{ (((team.pk_attempts - team.pk_goals) / team.pk_attempts) * 100).toFixed(1)}} %</td>
                    </ng-container>
        
                    <ng-container matColumnDef="sh_goals">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> SHG </th>
                        <td mat-cell *matCellDef="let team"> {{ team.sh_goals}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="penalty_minutes_game">
                        <th mat-header-cell *matHeaderCellDef> PIM/g </th>
                        <td mat-cell *matCellDef="let team"> {{ (team.penalty_minutes / team.games_played).toFixed(1)}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="shot_diff">
                        <th mat-header-cell *matHeaderCellDef> Shot Diff </th>
                        <td mat-cell *matCellDef="let team"> {{ (team.shots_for - team.shots_against) }} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="div_record">
                        <th mat-header-cell *matHeaderCellDef> Div </th>
                        <td mat-cell *matCellDef="let team"> {{team.div_win}}-{{team.div_loss}}-{{team.div_tie}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="home_record">
                        <th mat-header-cell *matHeaderCellDef> Home </th>
                        <td mat-cell *matCellDef="let team"> {{team.home_wins}}-{{team.home_loss}}-{{team.home_ties}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="away_record">
                        <th mat-header-cell *matHeaderCellDef> Away </th>
                        <td mat-cell *matCellDef="let team"> {{team.road_wins}}-{{team.road_loss}}-{{team.road_ties}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="trail_record">
                        <th mat-header-cell *matHeaderCellDef> Trailing After 2 </th>
                        <td mat-cell *matCellDef="let team"> {{team.trail_after_two_wins}}-{{team.trail_after_two_loss}}-{{team.trail_after_two_ties}} </td>
                    </ng-container>
        
                    <tr mat-header-row *matHeaderRowDef="teamsColumnsToDisplay"></tr>
                    <tr mat-row *matRowDef="let row; columns: teamsColumnsToDisplay;"></tr>
        
                </table>
        
            </div>
        </mat-tab>

        <mat-tab label="Division">
            <div class="table">

                <div class="tableHeader">
                    <p>North West Division</p>
                </div>

                <table mat-table [dataSource]="northWesternTeams" matSort class="mat-elevation-z8 full-width" matSortActive="points" matSortDirection="desc">

                    <ng-container matColumnDef="team_logo">
                        <th mat-header-cell *matHeaderCellDef> </th>
                        <td mat-cell *matCellDef="let team"> 
                            <img src="{{ findLogo(team.team_name).image }}"> 
                        </td>
                    </ng-container>
        
                    <ng-container matColumnDef="team_name">
                        <th mat-header-cell *matHeaderCellDef> Team </th>
                        <td mat-cell *matCellDef="let team"> {{findLogo(team.team_name).name}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="games_played">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> GP </th>
                        <td mat-cell *matCellDef="let team"> {{team.games_played}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="wins">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> W </th>
                        <td mat-cell *matCellDef="let team"> {{team.wins}} </td>
                    </ng-container>
                    
                    <ng-container matColumnDef="loss">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> L </th>
                        <td mat-cell *matCellDef="let team"> {{team.loss}} </td>
                    </ng-container>
                    
                    <ng-container matColumnDef="ties">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> T </th>
                        <td mat-cell *matCellDef="let team"> {{team.ties}} </td>
                    </ng-container>
                    
                    <ng-container matColumnDef="points">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Pts </th>
                        <td mat-cell *matCellDef="let team"> {{team.points}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_for">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> GF </th>
                        <td mat-cell *matCellDef="let team"> {{team.goals_for}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_for_game">
                        <th mat-header-cell *matHeaderCellDef> GF/g </th>
                        <td mat-cell *matCellDef="let team"> {{ (team.goals_for / team.games_played).toFixed(2) }} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_against">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> GA </th>
                        <td mat-cell *matCellDef="let team"> {{team.goals_against}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_against_game">
                        <th mat-header-cell *matHeaderCellDef> GA/g </th>
                        <td mat-cell *matCellDef="let team"> {{ (team.goals_against / team.games_played).toFixed(2) }} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_diff">
                        <th mat-header-cell *matHeaderCellDef> Goal Diff </th>
                        <td mat-cell *matCellDef="let team"> {{team.goals_for - team.goals_against}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="win_pct">
                        <th mat-header-cell *matHeaderCellDef> Win % </th>
                        <td mat-cell *matCellDef="let team"> {{((team.wins / team.games_played) * 100).toFixed(1)}} %</td>
                    </ng-container>
        
                    <ng-container matColumnDef="pp_pct">
                        <th mat-header-cell *matHeaderCellDef> PP % </th>
                        <td mat-cell *matCellDef="let team"> {{ ((team.pp_goals / team.pp_attempts) * 100).toFixed(1) }} %</td>
                    </ng-container>
        
                    <ng-container matColumnDef="pk_pct">
                        <th mat-header-cell *matHeaderCellDef> PK % </th>
                        <td mat-cell *matCellDef="let team"> {{ (((team.pk_attempts - team.pk_goals) / team.pk_attempts) * 100).toFixed(1)}} %</td>
                    </ng-container>
        
                    <ng-container matColumnDef="sh_goals">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> SHG </th>
                        <td mat-cell *matCellDef="let team"> {{ team.sh_goals}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="penalty_minutes_game">
                        <th mat-header-cell *matHeaderCellDef> PIM/g </th>
                        <td mat-cell *matCellDef="let team"> {{ (team.penalty_minutes / team.games_played).toFixed(1)}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="shot_diff">
                        <th mat-header-cell *matHeaderCellDef> Shot Diff </th>
                        <td mat-cell *matCellDef="let team"> {{ (team.shots_for - team.shots_against) }} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="div_record">
                        <th mat-header-cell *matHeaderCellDef> Div </th>
                        <td mat-cell *matCellDef="let team"> {{team.div_win}}-{{team.div_loss}}-{{team.div_tie}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="home_record">
                        <th mat-header-cell *matHeaderCellDef> Home </th>
                        <td mat-cell *matCellDef="let team"> {{team.home_wins}}-{{team.home_loss}}-{{team.home_ties}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="away_record">
                        <th mat-header-cell *matHeaderCellDef> Away </th>
                        <td mat-cell *matCellDef="let team"> {{team.road_wins}}-{{team.road_loss}}-{{team.road_ties}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="trail_record">
                        <th mat-header-cell *matHeaderCellDef> Trailing After 2 </th>
                        <td mat-cell *matCellDef="let team"> {{team.trail_after_two_wins}}-{{team.trail_after_two_loss}}-{{team.trail_after_two_ties}} </td>
                    </ng-container>
        
                    <tr mat-header-row *matHeaderRowDef="teamsColumnsToDisplay"></tr>
                    <tr mat-row *matRowDef="let row; columns: teamsColumnsToDisplay;"></tr>
        
                </table>
        
            </div>

            <div class="table">

                <div class="tableHeader">
                    <p>South West Division</p>
                </div>

                <table mat-table [dataSource]="southWesternTeams" matSort class="mat-elevation-z8 full-width" matSortActive="points" matSortDirection="desc">

                    <ng-container matColumnDef="team_logo">
                        <th mat-header-cell *matHeaderCellDef> </th>
                        <td mat-cell *matCellDef="let team"> 
                            <img src="{{ findLogo(team.team_name).image }}"> 
                        </td>
                    </ng-container>
        
                    <ng-container matColumnDef="team_name">
                        <th mat-header-cell *matHeaderCellDef> Team </th>
                        <td mat-cell *matCellDef="let team"> {{findLogo(team.team_name).name}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="games_played">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> GP </th>
                        <td mat-cell *matCellDef="let team"> {{team.games_played}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="wins">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> W </th>
                        <td mat-cell *matCellDef="let team"> {{team.wins}} </td>
                    </ng-container>
                    
                    <ng-container matColumnDef="loss">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> L </th>
                        <td mat-cell *matCellDef="let team"> {{team.loss}} </td>
                    </ng-container>
                    
                    <ng-container matColumnDef="ties">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> T </th>
                        <td mat-cell *matCellDef="let team"> {{team.ties}} </td>
                    </ng-container>
                    
                    <ng-container matColumnDef="points">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Pts </th>
                        <td mat-cell *matCellDef="let team"> {{team.points}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_for">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> GF </th>
                        <td mat-cell *matCellDef="let team"> {{team.goals_for}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_for_game">
                        <th mat-header-cell *matHeaderCellDef> GF/g </th>
                        <td mat-cell *matCellDef="let team"> {{ (team.goals_for / team.games_played).toFixed(2) }} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_against">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> GA </th>
                        <td mat-cell *matCellDef="let team"> {{team.goals_against}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_against_game">
                        <th mat-header-cell *matHeaderCellDef> GA/g </th>
                        <td mat-cell *matCellDef="let team"> {{ (team.goals_against / team.games_played).toFixed(2) }} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_diff">
                        <th mat-header-cell *matHeaderCellDef> Goal Diff </th>
                        <td mat-cell *matCellDef="let team"> {{team.goals_for - team.goals_against}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="win_pct">
                        <th mat-header-cell *matHeaderCellDef> Win % </th>
                        <td mat-cell *matCellDef="let team"> {{((team.wins / team.games_played) * 100).toFixed(1)}} %</td>
                    </ng-container>
        
                    <ng-container matColumnDef="pp_pct">
                        <th mat-header-cell *matHeaderCellDef> PP % </th>
                        <td mat-cell *matCellDef="let team"> {{ ((team.pp_goals / team.pp_attempts) * 100).toFixed(1) }} %</td>
                    </ng-container>
        
                    <ng-container matColumnDef="pk_pct">
                        <th mat-header-cell *matHeaderCellDef> PK % </th>
                        <td mat-cell *matCellDef="let team"> {{ (((team.pk_attempts - team.pk_goals) / team.pk_attempts) * 100).toFixed(1)}} %</td>
                    </ng-container>
        
                    <ng-container matColumnDef="sh_goals">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> SHG </th>
                        <td mat-cell *matCellDef="let team"> {{ team.sh_goals}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="penalty_minutes_game">
                        <th mat-header-cell *matHeaderCellDef> PIM/g </th>
                        <td mat-cell *matCellDef="let team"> {{ (team.penalty_minutes / team.games_played).toFixed(1)}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="shot_diff">
                        <th mat-header-cell *matHeaderCellDef> Shot Diff </th>
                        <td mat-cell *matCellDef="let team"> {{ (team.shots_for - team.shots_against) }} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="div_record">
                        <th mat-header-cell *matHeaderCellDef> Div </th>
                        <td mat-cell *matCellDef="let team"> {{team.div_win}}-{{team.div_loss}}-{{team.div_tie}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="home_record">
                        <th mat-header-cell *matHeaderCellDef> Home </th>
                        <td mat-cell *matCellDef="let team"> {{team.home_wins}}-{{team.home_loss}}-{{team.home_ties}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="away_record">
                        <th mat-header-cell *matHeaderCellDef> Away </th>
                        <td mat-cell *matCellDef="let team"> {{team.road_wins}}-{{team.road_loss}}-{{team.road_ties}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="trail_record">
                        <th mat-header-cell *matHeaderCellDef> Trailing After 2 </th>
                        <td mat-cell *matCellDef="let team"> {{team.trail_after_two_wins}}-{{team.trail_after_two_loss}}-{{team.trail_after_two_ties}} </td>
                    </ng-container>
        
                    <tr mat-header-row *matHeaderRowDef="teamsColumnsToDisplay"></tr>
                    <tr mat-row *matRowDef="let row; columns: teamsColumnsToDisplay;"></tr>
        
                </table>
        
            </div>

            <div class="table">

                <div class="tableHeader">
                    <p>North East Division</p>
                </div>

                <table mat-table [dataSource]="northEasternTeams" matSort class="mat-elevation-z8 full-width" matSortActive="points" matSortDirection="desc">

                    <ng-container matColumnDef="team_logo">
                        <th mat-header-cell *matHeaderCellDef> </th>
                        <td mat-cell *matCellDef="let team"> 
                            <img src="{{ findLogo(team.team_name).image }}"> 
                        </td>
                    </ng-container>
        
                    <ng-container matColumnDef="team_name">
                        <th mat-header-cell *matHeaderCellDef> Team </th>
                        <td mat-cell *matCellDef="let team"> {{findLogo(team.team_name).name}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="games_played">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> GP </th>
                        <td mat-cell *matCellDef="let team"> {{team.games_played}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="wins">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> W </th>
                        <td mat-cell *matCellDef="let team"> {{team.wins}} </td>
                    </ng-container>
                    
                    <ng-container matColumnDef="loss">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> L </th>
                        <td mat-cell *matCellDef="let team"> {{team.loss}} </td>
                    </ng-container>
                    
                    <ng-container matColumnDef="ties">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> T </th>
                        <td mat-cell *matCellDef="let team"> {{team.ties}} </td>
                    </ng-container>
                    
                    <ng-container matColumnDef="points">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Pts </th>
                        <td mat-cell *matCellDef="let team"> {{team.points}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_for">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> GF </th>
                        <td mat-cell *matCellDef="let team"> {{team.goals_for}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_for_game">
                        <th mat-header-cell *matHeaderCellDef> GF/g </th>
                        <td mat-cell *matCellDef="let team"> {{ (team.goals_for / team.games_played).toFixed(2) }} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_against">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> GA </th>
                        <td mat-cell *matCellDef="let team"> {{team.goals_against}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_against_game">
                        <th mat-header-cell *matHeaderCellDef> GA/g </th>
                        <td mat-cell *matCellDef="let team"> {{ (team.goals_against / team.games_played).toFixed(2) }} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_diff">
                        <th mat-header-cell *matHeaderCellDef> Goal Diff </th>
                        <td mat-cell *matCellDef="let team"> {{team.goals_for - team.goals_against}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="win_pct">
                        <th mat-header-cell *matHeaderCellDef> Win % </th>
                        <td mat-cell *matCellDef="let team"> {{((team.wins / team.games_played) * 100).toFixed(1)}} %</td>
                    </ng-container>
        
                    <ng-container matColumnDef="pp_pct">
                        <th mat-header-cell *matHeaderCellDef> PP % </th>
                        <td mat-cell *matCellDef="let team"> {{ ((team.pp_goals / team.pp_attempts) * 100).toFixed(1) }} %</td>
                    </ng-container>
        
                    <ng-container matColumnDef="pk_pct">
                        <th mat-header-cell *matHeaderCellDef> PK % </th>
                        <td mat-cell *matCellDef="let team"> {{ (((team.pk_attempts - team.pk_goals) / team.pk_attempts) * 100).toFixed(1)}} %</td>
                    </ng-container>
        
                    <ng-container matColumnDef="sh_goals">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> SHG </th>
                        <td mat-cell *matCellDef="let team"> {{ team.sh_goals}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="penalty_minutes_game">
                        <th mat-header-cell *matHeaderCellDef> PIM/g </th>
                        <td mat-cell *matCellDef="let team"> {{ (team.penalty_minutes / team.games_played).toFixed(1)}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="shot_diff">
                        <th mat-header-cell *matHeaderCellDef> Shot Diff </th>
                        <td mat-cell *matCellDef="let team"> {{ (team.shots_for - team.shots_against) }} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="div_record">
                        <th mat-header-cell *matHeaderCellDef> Div </th>
                        <td mat-cell *matCellDef="let team"> {{team.div_win}}-{{team.div_loss}}-{{team.div_tie}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="home_record">
                        <th mat-header-cell *matHeaderCellDef> Home </th>
                        <td mat-cell *matCellDef="let team"> {{team.home_wins}}-{{team.home_loss}}-{{team.home_ties}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="away_record">
                        <th mat-header-cell *matHeaderCellDef> Away </th>
                        <td mat-cell *matCellDef="let team"> {{team.road_wins}}-{{team.road_loss}}-{{team.road_ties}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="trail_record">
                        <th mat-header-cell *matHeaderCellDef> Trailing After 2 </th>
                        <td mat-cell *matCellDef="let team"> {{team.trail_after_two_wins}}-{{team.trail_after_two_loss}}-{{team.trail_after_two_ties}} </td>
                    </ng-container>
        
                    <tr mat-header-row *matHeaderRowDef="teamsColumnsToDisplay"></tr>
                    <tr mat-row *matRowDef="let row; columns: teamsColumnsToDisplay;"></tr>
        
                </table>
        
            </div>

            <div class="table">

                <div class="tableHeader">
                    <p>South East Division</p>
                </div>

                <table mat-table [dataSource]="southEasternTeams" matSort class="mat-elevation-z8 full-width" matSortActive="points" matSortDirection="desc">

                    <ng-container matColumnDef="team_logo">
                        <th mat-header-cell *matHeaderCellDef> </th>
                        <td mat-cell *matCellDef="let team"> 
                            <img src="{{ findLogo(team.team_name).image }}"> 
                        </td>
                    </ng-container>
        
                    <ng-container matColumnDef="team_name">
                        <th mat-header-cell *matHeaderCellDef> Team </th>
                        <td mat-cell *matCellDef="let team"> {{findLogo(team.team_name).name}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="games_played">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> GP </th>
                        <td mat-cell *matCellDef="let team"> {{team.games_played}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="wins">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> W </th>
                        <td mat-cell *matCellDef="let team"> {{team.wins}} </td>
                    </ng-container>
                    
                    <ng-container matColumnDef="loss">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> L </th>
                        <td mat-cell *matCellDef="let team"> {{team.loss}} </td>
                    </ng-container>
                    
                    <ng-container matColumnDef="ties">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> T </th>
                        <td mat-cell *matCellDef="let team"> {{team.ties}} </td>
                    </ng-container>
                    
                    <ng-container matColumnDef="points">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Pts </th>
                        <td mat-cell *matCellDef="let team"> {{team.points}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_for">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> GF </th>
                        <td mat-cell *matCellDef="let team"> {{team.goals_for}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_for_game">
                        <th mat-header-cell *matHeaderCellDef> GF/g </th>
                        <td mat-cell *matCellDef="let team"> {{ (team.goals_for / team.games_played).toFixed(2) }} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_against">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> GA </th>
                        <td mat-cell *matCellDef="let team"> {{team.goals_against}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_against_game">
                        <th mat-header-cell *matHeaderCellDef> GA/g </th>
                        <td mat-cell *matCellDef="let team"> {{ (team.goals_against / team.games_played).toFixed(2) }} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="goals_diff">
                        <th mat-header-cell *matHeaderCellDef> Goal Diff </th>
                        <td mat-cell *matCellDef="let team"> {{team.goals_for - team.goals_against}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="win_pct">
                        <th mat-header-cell *matHeaderCellDef> Win % </th>
                        <td mat-cell *matCellDef="let team"> {{((team.wins / team.games_played) * 100).toFixed(1)}} %</td>
                    </ng-container>
        
                    <ng-container matColumnDef="pp_pct">
                        <th mat-header-cell *matHeaderCellDef> PP % </th>
                        <td mat-cell *matCellDef="let team"> {{ ((team.pp_goals / team.pp_attempts) * 100).toFixed(1) }} %</td>
                    </ng-container>
        
                    <ng-container matColumnDef="pk_pct">
                        <th mat-header-cell *matHeaderCellDef> PK % </th>
                        <td mat-cell *matCellDef="let team"> {{ (((team.pk_attempts - team.pk_goals) / team.pk_attempts) * 100).toFixed(1)}} %</td>
                    </ng-container>
        
                    <ng-container matColumnDef="sh_goals">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> SHG </th>
                        <td mat-cell *matCellDef="let team"> {{ team.sh_goals}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="penalty_minutes_game">
                        <th mat-header-cell *matHeaderCellDef> PIM/g </th>
                        <td mat-cell *matCellDef="let team"> {{ (team.penalty_minutes / team.games_played).toFixed(1)}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="shot_diff">
                        <th mat-header-cell *matHeaderCellDef> Shot Diff </th>
                        <td mat-cell *matCellDef="let team"> {{ (team.shots_for - team.shots_against) }} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="div_record">
                        <th mat-header-cell *matHeaderCellDef> Div </th>
                        <td mat-cell *matCellDef="let team"> {{team.div_win}}-{{team.div_loss}}-{{team.div_tie}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="home_record">
                        <th mat-header-cell *matHeaderCellDef> Home </th>
                        <td mat-cell *matCellDef="let team"> {{team.home_wins}}-{{team.home_loss}}-{{team.home_ties}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="away_record">
                        <th mat-header-cell *matHeaderCellDef> Away </th>
                        <td mat-cell *matCellDef="let team"> {{team.road_wins}}-{{team.road_loss}}-{{team.road_ties}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="trail_record">
                        <th mat-header-cell *matHeaderCellDef> Trailing After 2 </th>
                        <td mat-cell *matCellDef="let team"> {{team.trail_after_two_wins}}-{{team.trail_after_two_loss}}-{{team.trail_after_two_ties}} </td>
                    </ng-container>
        
                    <tr mat-header-row *matHeaderRowDef="teamsColumnsToDisplay"></tr>
                    <tr mat-row *matRowDef="let row; columns: teamsColumnsToDisplay;"></tr>
        
                </table>
        
            </div>
        </mat-tab>

    </mat-tab-group>

</div>
    
